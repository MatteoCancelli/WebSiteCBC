<%- layout('layout') -%>

<section class="container py-5">

  <!-- Intestazione -->
  <div class="row align-items-center mb-5">
    <% if (direttore.foto && direttore.foto.trim()) { %>
    <div class="col-md-4 text-center">
      <img src="<%= direttore.foto %>" alt="<%= direttore.nome %>" class="img-fluid rounded shadow-sm">
    </div>
    <% } %>
    <div class="<%= direttore.foto && direttore.foto.trim() ? 'col-md-8' : 'col-md-12' %>">
      <% if (direttore.nome && direttore.nome.trim()) { %>
      <h1 class="display-5 fw-bold mt-3"><%= direttore.nome %></h1>
      <% } %>
      <% if (direttore.titolo && direttore.titolo.trim()) { %>
      <h4 class="text-muted mb-3"><%= direttore.titolo %></h4>
      <% } %>
      <% if (direttore.descrizione && direttore.descrizione.trim()) { %>
      <p class="fs-5"><%= direttore.descrizione %></p>
      <% } %>
    </div>
  </div>

  <!-- Bio -->
  <% if (direttore.bio && direttore.bio.trim()) { %>
  <div class="row mb-5">
    <div class="col">
      <h2>Chi è il Direttore Artistico</h2>
      <p class="fs-5"><%= direttore.bio %></p>
    </div>
  </div>
  <% } else { %>
        <div class="alert alert-warning" role="alert">
          <i class="bi bi-info-circle-fill text-warning me-3 fs-4"></i>
          il direttore non ha ancora condiviso la sua biografia. Dai un'occhiata più avanti!
        </div>
      <% } %>

  <!-- Titoli ed Esperienza -->
  <% if ((direttore.titoli && direttore.titoli.length > 0) || (direttore.esperienza && direttore.esperienza.length > 0)) { %>
  <div class="row mb-4">
    <!-- Titoli -->
    <% if (direttore.titoli && direttore.titoli.length > 0) { %>
    <div class="<%= (direttore.esperienza && direttore.esperienza.length > 0) ? 'col-md-6' : 'col-12' %>">
      <h3>Titoli</h3>
      <ul class="list-group list-group-flush">
        <% direttore.titoli.forEach(t => { %>
          <% if (t && t.trim()) { %>
          <li class="list-group-item"><i class="bi bi-mortarboard-fill me-2 text-primary"></i> <%= t %></li>
          <% } %>
        <% }) %>
      </ul>
    </div>
    <% } %>

    <!-- Esperienza -->
    <% if (direttore.esperienza && direttore.esperienza.length > 0) { %>
    <div class="<%= (direttore.titoli && direttore.titoli.length > 0) ? 'col-md-6' : 'col-12' %>">
      <h3>Esperienza</h3>
      <ul class="list-group list-group-flush">
        <% direttore.esperienza.forEach(e => { %>
          <% if (e && e.trim()) { %>
          <li class="list-group-item"><i class="bi bi-music-note-beamed me-2 text-success"></i> <%= e %></li>
          <% } %>
        <% }) %>
      </ul>
    </div>
    <% } %>
  </div>
  <% } %>

  <!-- Video -->
  <% if (direttore.videoYoutube && direttore.videoYoutube.length > 0) { %>
  <div class="mb-5">
    <h3 class="mb-4">Video</h3>
    <div class="row g-4">
      <% direttore.videoYoutube.forEach(video => { %>
        <% if (video.link && video.link.trim()) { %>
        <div class="col-md-6">
          <div class="card border-0 shadow-sm">
            <div class="ratio ratio-16x9">
              <iframe src="<%= video.link %>" title="<%= video.titolo || 'Video' %>" allowfullscreen class="rounded-top"></iframe>
            </div>
            <% if (video.titolo && video.titolo.trim()) { %>
            <div class="card-body">
              <h5 class="card-title"><%= video.titolo %></h5>
            </div>
            <% } %>
          </div>
        </div>
        <% } %>
      <% }) %>
    </div>
  </div>
  <% } %>

  <!-- Galleria immagini -->
  <% if (direttore.galleria && direttore.galleria.length > 0) { %>
  <div class="mb-5">
    <h3 class="mb-4">Galleria fotografica</h3>
    <div class="row g-3">
      <% direttore.galleria.forEach(img => { %>
        <% if (img && img.trim()) { %>
        <div class="col-6 col-md-4">
          <img src="<%= img %>" class="img-fluid rounded shadow-sm" alt="Foto evento">
        </div>
        <% } %>
      <% }) %>
    </div>
  </div>
  <% } %>

</section>
