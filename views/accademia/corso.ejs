<% layout('layout') -%>

<div class="container my-5">
  <!-- HERO con immagine -->
  <div class="hero p-5 rounded-3" style="background-image: url('/<%= corso.hero %>'); background-size: cover; background-position: center; height: 400px;">
    <div class="d-flex align-items-center justify-content-center h-100 bg-dark bg-opacity-50">
      <div class="text-center text-white">
        <h1 class="display-4 fw-bold"><%= corso.titolo %></h1>
        <p class="fs-5 mb-4"><%= corso.descrizione %></p>
        <a href="/<%= corso.linkIscrizione %>" class="btn btn-light btn-lg">Iscriviti subito</a>
      </div>
    </div>
  </div>

  <!-- Descrizione strumento -->
  <div class="row align-items-center mb-5">
    <div class="col-md-6">
      <img src="/<%= corso.fotoStrumento %>" class="img-fluid rounded shadow" alt="Strumento" style="max-height: 400px; object-fit: cover;">
    </div>
    <div class="col-md-6">
      <h2 class="mb-3">Lo strumento</h2>
      <p class="lead"><%= corso.descrizioneStrumento %></p>
    </div>
  </div>

  <!-- Obiettivi -->
  <h2 class="mb-3">Obiettivi del corso</h2>
  <ul class="list-group list-group-numbered mb-5">
    <% corso.obiettivi.forEach(obj => { %>
      <li class="list-group-item fs-5"><%= obj %></li>
    <% }) %>
  </ul>

  <!-- Insegnanti con card -->
  <h2 class="mb-4">I nostri insegnanti</h2>
  <div class="row g-4 mb-5">
    <% corso.insegnanti.forEach(insegnante => { %>
      <div class="col-md-4">
        <div class="card shadow-sm h-100 border-0">
          <img src="/<%= insegnante.foto %>" class="card-img-top rounded-top" alt="<%= insegnante.nome %>" style="height: 300px; object-fit: cover;">
          <div class="card-body">
            <h5 class="card-title"><%= insegnante.nome %></h5>
            <a href="/<%= insegnante.bio %>" class="btn btn-outline-primary w-100">Scopri il profilo</a>
          </div>
        </div>
      </div>
    <% }) %>
  </div>

  <!-- Info pratiche -->
  <h2 class="mb-3">Modalità e frequenza</h2>
  <div class="p-4 mb-5 rounded-4 bg-light border">
    <p><strong>Modalità:</strong> <%= corso.modalita %></p>
    <p><strong>Durate disponibili:</strong> <%= corso.lezioniDisponibili.join(", ") %></p>
    <p><strong>Frequenza tipica:</strong> <%= corso.frequenzaTipica %></p>
    <% if (corso.noteAggiuntive) { %>
      <div class="alert alert-info mt-3"><%= corso.noteAggiuntive %></div>
    <% } %>
  </div>

  <!-- Video -->
  <h2 class="mb-4">Video dimostrativi</h2>
  <div class="row g-4 mb-5">
    <% corso.videoYoutube.forEach(video => { %>
      <div class="col-md-6">
        <div class="card h-100 border-0 shadow-sm">
          <div class="ratio ratio-16x9">
            <iframe src="<%= video.link %>" title="<%= video.titolo %>" allowfullscreen class="rounded-top"></iframe>
          </div>
          <div class="card-body">
            <h5 class="card-title"><%= video.titolo %></h5>
          </div>
        </div>
      </div>
    <% }) %>
  </div>

  <div class="text-center">
    <a href="/<%= corso.linkIscrizione %>" class="btn btn-success btn-lg px-5 py-3">Iscriviti subito al corso</a>
  </div>
</div>